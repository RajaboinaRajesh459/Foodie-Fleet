(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{1221:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(11),o=n(9),l=n(71);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}var d=(e,t,n)=>{if(e=e?e.$el||e:null,!Object(o.p)(e))return null;if(Object(l.b)("observeDom"))return null;var d=new o.a((e=>{for(var n=!1,i=0;i<e.length&&!n;i++){var r=e[i],o=r.type,l=r.target;("characterData"===o&&l.nodeType===Node.TEXT_NODE||"attributes"===o||"childList"===o&&(r.addedNodes.length>0||r.removedNodes.length>0))&&(n=!0)}n&&t()}));return d.observe(e,function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({childList:!0,subtree:!0},n)),d}},1250:function(e,t,n){"use strict";var r=n(1329),o=n.n(r),l={props:{amount:{type:Number,default:0},currency:{type:String,default:"USD"},codeClass:{type:[String,Array],default:""}},computed:{currencyCode:()=>"$",price(){return o()(this.amount).format("0,0.[00]")}}},c=n(8),component=Object(c.a)(l,(function(){var e=this,t=e._self._c;return t("span",[t("span",{class:e.codeClass},[e._v(e._s(e.currencyCode))]),e._v(e._s(e.price)+"\n")])}),[],!1,null,null,null);t.a=component.exports},1339:function(e,t,n){e.exports=n.p+"img/stripe.4a3c31e.svg"},1549:function(e,t,n){e.exports=n.p+"img/visa.4759160.svg"},1550:function(e,t,n){e.exports=n.p+"img/mastercard.1afc104.svg"},1551:function(e,t,n){e.exports=n.p+"img/apple-pay.253013b.svg"},1552:function(e,t,n){e.exports=n.p+"img/google-pay.50c14aa.svg"},1560:function(e,t,n){e.exports=n.p+"img/paypal-logo.17b6873.svg"},2146:function(e,t,n){e.exports=n.p+"img/upi.6114ac6.svg"},2147:function(e,t,n){e.exports=n.p+"img/discover-logo.5f1ae25.svg"},2491:function(e,t,n){e.exports=n.p+"img/razorpay.6e46f6f.svg"},2492:function(e,t,n){e.exports=n.p+"img/amex.a2eb19c.svg"},2550:function(e,t,n){var content=n(3472);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(42).default)("1e164e37",content,!0,{sourceMap:!1})},2885:function(e,t,n){e.exports=n.p+"img/pay-by-card.3600b2c.svg"},3336:function(e,t,n){var content=n(4822);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(42).default)("4d6658ee",content,!0,{sourceMap:!1})},3460:function(e,t,n){"use strict";var r=n(5),o=(n(43),n(23));t.a={computed:{paymentMethod(){return this.$store.state.user.paymentMethod}},methods:{onUpdateCard(){var e=this;return Object(r.a)((function*(){try{e.$nuxt.$loading.start();var t=Object(o.c)("/api/v2/auth/billing-portal"),n=yield e.$axios.post(t);e.$nuxt.$loading.finish(),window.location.href=n.data.response.billing_portal.url}catch(t){console.error(t);var title=null;title=t.response&&t.response.data&&t.response.data.message?t.response.data.message:t.message||"Oops, Something went wrong!",e.$root.$bvToast.toast(title,{title:title,variant:"danger",toaster:"b-toaster-bottom-center",solid:!1,noAutoHide:!1,bodyClass:"d-none"})}}))()},getCardIcon:e=>["amex","cartes_bancaires","diners_club","discover","jcb","mastercard","visa","unionpay"].includes(e)?n(3461)("./".concat(e,".svg")):n(2885)}}},3461:function(e,t,n){var map={"./amazon-pay.svg":3462,"./amex.svg":2492,"./apple-pay.svg":1551,"./cartes_bancaires.svg":3463,"./diners_club.svg":3464,"./discover-logo.svg":2147,"./discover.svg":3465,"./google-pay.svg":1552,"./jcb.svg":3466,"./mastercard.svg":1550,"./pay-by-card.svg":2885,"./pay-by-paypal.svg":3467,"./paypal-logo.svg":1560,"./paytm.svg":3468,"./phonepe.svg":3469,"./razorpay.svg":2491,"./stripe.svg":1339,"./unionpay.svg":3470,"./upi.svg":2146,"./visa.svg":1549};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(map,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return map[e]}r.keys=function(){return Object.keys(map)},r.resolve=o,e.exports=r,r.id=3461},3462:function(e,t,n){e.exports=n.p+"img/amazon-pay.bb6b47c.svg"},3463:function(e,t,n){e.exports=n.p+"img/cartes_bancaires.f43ce26.svg"},3464:function(e,t,n){e.exports=n.p+"img/diners_club.cf5c4cd.svg"},3465:function(e,t,n){e.exports=n.p+"img/discover.750e380.svg"},3466:function(e,t,n){e.exports=n.p+"img/jcb.b9d1876.svg"},3467:function(e,t,n){e.exports=n.p+"img/pay-by-paypal.00be8ff.svg"},3468:function(e,t,n){e.exports=n.p+"img/paytm.a7d8217.svg"},3469:function(e,t,n){e.exports=n.p+"img/phonepe.52a3f35.svg"},3470:function(e,t,n){e.exports=n.p+"img/unionpay.35b08be.svg"},3471:function(e,t,n){"use strict";var r=n(2550),o=n.n(r);n.d(t,"default",(function(){return o.a}))},3472:function(e,t,n){var r=n(41)(!1);r.push([e.i,".container_RRtzE{max-width:514px;height:345px;background:#F5F6FA;border-radius:12px}.container_RRtzE>div{max-width:400px;height:24px;background:#EBEDF5}.container_RRtzE>div:first-child{max-width:212px !important;height:28px !important}\n",""]),r.locals={container:"container_RRtzE"},e.exports=r},3721:function(e,t,n){"use strict";var r=n(3471),o=n(8);var component=Object(o.a)({},(function(){var e=this,t=e._self._c;return t("div",{class:["p-5-5 mx-auto mb-3",e.$style.container]},[t("div"),e._v(" "),t("div",{staticClass:"mt-3"}),e._v(" "),t("div",{staticClass:"mt-3"}),e._v(" "),t("div",{staticClass:"mt-3"})])}),[],!1,(function(e){this.$style=r.default.locals||r.default}),null,null);t.a=component.exports},4821:function(e,t,n){"use strict";var r=n(3336),o=n.n(r);n.d(t,"default",(function(){return o.a}))},4822:function(e,t,n){var r=n(41)(!1);r.push([e.i,".modal_a9fvb .modal-dialog{max-width:560px !important}.modal_a9fvb .modal-content{border-radius:8px}.modal_a9fvb .modal-body{padding:0}.modal_a9fvb .planName_h2wAO{font-size:28px;margin-bottom:8px}.modal_a9fvb .close_ujumk{position:absolute;top:30px;right:30px}.modal_a9fvb .priceText_ND5W2{display:inline-flex;align-items:center;color:#3d4852}.modal_a9fvb .label_OCfBn{padding:10px;background-color:#F5F6FA;margin-bottom:.75rem;border-radius:4px}.modal_a9fvb .separator_XlZ43{border-color:#EBEDF5}.modal_a9fvb .perMonth_0RwXm{font-size:.75rem;color:#596080;font-weight:normal;line-height:.9375rem;margin-left:.25rem}.modal_a9fvb .update_a3jDt{text-decoration:underline;color:#8F95B3}.modal_a9fvb .ctaContainer_Y6fy8{background-color:#F5F6FA}\n",""]),r.locals={modal:"modal_a9fvb",planName:"planName_h2wAO",close:"close_ujumk",priceText:"priceText_ND5W2",label:"label_OCfBn",separator:"separator_XlZ43",perMonth:"perMonth_0RwXm",update:"update_a3jDt",ctaContainer:"ctaContainer_Y6fy8"},e.exports=r},594:function(e,t,n){"use strict";n.r(t);n(330);var r=n(11),o=n(5),l=n(1127),c=n(5168),d=n(109),m=n(178),f=n(23),v=n(1250),y=n(3460),_=n(3721);function h(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function x(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var O={components:{BModal:c.a,UilTimes:l.a,Price:v.a,Loading:_.a},mixins:[y.a],props:{isLoading:{type:[Boolean,Number],default:!1},plan:{type:Object,default:m.a.teamPlan}},data:()=>({pronatedAmount:null}),fetch(){var e=this;return Object(o.a)((function*(){try{var t=Object(f.c)("/api/v2/calculate-prorated-amount",{billing_period:e.plan.billingPeriod,billing_frequency:e.plan.billingFrequency,quantity:e.plan.quantity,members:e.plan.defaultUpgradeMembers,recurring_subscription_id:e.user.subscriptions[0].recurring_subscription_id,purchase_type:"plan",plan_id:e.plan.planId}),n=yield e.$axios.get(t);e.pronatedAmount=n.data.response.prorated_amount}catch(t){console.error(t);var title=null;t.response&&t.response.data?t.response.data.message&&(title=t.response.data.message):title=t.message||"Oops, Something went wrong!",e.$root.$bvToast.toast(title,{title:title,variant:"danger",toaster:"b-toaster-bottom-center",solid:!1,noAutoHide:!1,bodyClass:"d-none"}),e.$root.context.redirect(307,{name:"dashboard-subscriptions"})}}))()},computed:x(x({},Object(d.b)({user:"user/get"})),{},{upgradeAmount(){return this.plan.payablePricePerYear*this.plan.defaultUpgradeMembers}}),methods:{hideModal(){this.$modal.close("modalConfirmSubscriptionUpgrade")}}},j=n(4821),w=n(8);var component=Object(w.a)(O,(function(){var e=this,t=e._self._c;return t("b-modal",{attrs:{id:"modalConfirmSubscriptionUpgrade","modal-class":e.$style.modal,"no-fade":!1,"hide-header":"","hide-footer":"",centered:"",visible:"",lazy:""}},[e.$fetchState.pending?t("loading",{style:{height:"420px"}}):t("div",[t("div",{staticClass:"px-5-5 pt-5-5"},[t("a",{class:e.$style.close,attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.hideModal.apply(null,arguments)}}},[t("uil-times",{staticClass:"text-dark-700",attrs:{size:"20"}})],1),e._v(" "),t("h3",{class:e.$style.planName},[e._v(e._s(e.plan.name))]),e._v(" "),t("p",{staticClass:"font-size-sm text-dark-300 mb-0"},[e._v("\n        "+e._s(e.plan.description)+"\n      ")]),e._v(" "),e.pronatedAmount?t("h2",{class:["font-weight-normal my-5-5",e.$style.priceText]},[t("price",{attrs:{amount:e.pronatedAmount}}),e._v(" "),t("span",{class:e.$style.perMonth},[e._v("\n          for "),t("b",[e._v(e._s(e.plan.defaultUpgradeMembers))]),e._v("\n          "+e._s(e.$tc("plans.seats",e.plan.defaultUpgradeMembers))+" "),t("br"),e._v("\n          due now\n        ")])],1):e._e(),e._v(" "),t("div",{class:e.$style.label},[t("p",{staticClass:"font-size-sm mb-0"},[e._v("\n          You will be billed\n          "),t("price",{attrs:{amount:e.upgradeAmount}}),e._v("\n          for\n          "+e._s(e.plan.defaultUpgradeMembers)+"\n          "+e._s(e.$tc("plans.seats",e.plan.defaultUpgradeMembers))+" on your next\n          billing cycle.\n        ")],1)]),e._v(" "),t("hr",{class:e.$style.separator}),e._v(" "),e.paymentMethod&&e.paymentMethod.card?t("div",{class:["mx-auto my-5"]},[t("div",{staticClass:"d-flex flex-wrap justify-content-between align-items-end"},[t("div",[t("div",{staticClass:"caption text-secondary mb-2-5 font-weight-normal"},[e._v("\n              Saved Card\n            ")]),e._v(" "),t("span",{staticClass:"font-weight-semi-bold"},[t("img",{attrs:{loading:"lazy",src:e.getCardIcon(e.paymentMethod.card.brand),height:"17"}}),e._v("\n\n              **** "+e._s(e.paymentMethod.card.last4)+"\n            ")])]),e._v(" "),t("a",{class:["font-weight-semi-bold font-size-sm",e.$style.update],attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.onUpdateCard.apply(null,arguments)}}},[e._v("\n            Change payment method")])])]):e._e()]),e._v(" "),t("div",{class:["p-5-5",e.$style.ctaContainer]},[t("button",{directives:[{name:"track",rawName:"v-track",value:{data:{route_name:e.$route.name,route_path:e.$route.path,location:"subscription-upgrade-modal",action:"upgrade-team-plan",data:{billingPeriod:e.plan.billingPeriod,type:"team"}}},expression:"{\n          data: {\n            route_name: $route.name,\n            route_path: $route.path,\n            location: 'subscription-upgrade-modal',\n            action: 'upgrade-team-plan',\n            data: {\n              billingPeriod: plan.billingPeriod,\n              type: 'team',\n            },\n          },\n        }"}],class:["btn btn-primary btn-lg btn-block",e.isLoading===e.plan.planId?"ajax-loading disabled":null],attrs:{type:"button"},on:{click:function(t){return e.$emit("ok")}}},[e._v("\n        Upgrade to "+e._s(e.plan.name)+"\n      ")])])])],1)}),[],!1,(function(e){this.$style=j.default.locals||j.default}),null,null);t.default=component.exports}}]);
